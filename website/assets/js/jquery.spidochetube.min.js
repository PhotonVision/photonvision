!function(e){e.fn.spidochetube=function(t){function a(e,t,i){var a="http://www.youtube.com/embed/"+e+"?version=3&loop=1&autoplay="+t+"&rel=0&showsearch=0&showinfo=0&theme="+i;return a}function r(){var t=1.7777777777777777,i=e("#player").width(),a=i/t;e("#player").height(a)}function o(t,r){t.on("click","li a",function(t){t.preventDefault();var o=e(this).attr("data-youtubeID"),s=a(o,i.autoplay,i.theme);e("#spidochetube_list li").removeClass("spidochetube_current"),e(this).parent().addClass("spidochetube_current"),e("html, body").animate({scrollTop:e("#spidochetube_player").offset().top},r,function(){e("#spidochetube_player iframe").attr("src",s)})})}var i=e.extend({key:"",id:"GoogleDevelopers",max_results:10,autoplay:0,theme:"dark",paging:0,scroll_duration:0,first_load:!0},t);return""===i.key?void console.log("api key not defined"):this.each(function(){var t=e(this),s=0,l=0,u=i.id,d="",n="",p="",c=i.first_load;s=i.max_results<=50?i.max_results:50,c===!0&&(o(t,i.scroll_duration),t.html('<div class="spidochetube_inner"><div id="spidochetube_player"></div><ul id="spidochetube_list"></ul></div>'),"loadmore"===i.paging&&e("#spidochetube_list").after('<a id="spidochetube_loadmore" href="#">More</a>')),p=e("#spidochetube_loadmore").attr("data-next"),void 0!==p&&(n=p),d="https://www.googleapis.com/youtube/v3/playlistItems?playlistId="+u+"&orderby=reversedPosition&pageToken="+n+"&maxResults="+s+"&key="+i.key+"&part=snippet,status,contentDetails",e.getJSON(d,function(t){l=t.pageInfo.totalResults,n=t.nextPageToken,e.each(t.items,function(i,a){var r=a.snippet,o=r.title,s=a.status.privacyStatus,l="",u="",d="";"public"===s&&void 0!==r.thumbnails&&(l=r.resourceId.videoId,u=r.thumbnails.medium.url,d="https://www.youtube.com/embed/"+l,html="<li>",html+='<a title="'+o+'" href="'+d+'" data-youtubeID="'+l+'">',html+='<img src="'+u+'" alt="'+o+'" />',html+="<span>"+o+"</span>",html+="</a>",html+="</li>",e("#spidochetube_list").append(html),void 0!==t.nextPageToken?e("#spidochetube_loadmore").attr("data-next",n):e("#spidochetube_loadmore").css("visibility","hidden"))})}).complete(function(){if(c===!0){var o=e("#spidochetube_list li:first-child a").attr("data-youtubeID"),s=a(o,i.autoplay,i.theme),l='<iframe id="player" src="'+s+'" width="640" height="360" frameborder="0" allowfullscreen></iframe>';e("#spidochetube_list li:first-child").addClass("spidochetube_current"),e("#spidochetube_player").append(l)}e("#spidochetube_loadmore").off("click").on("click",function(){return t.spidochetube({key:i.key,id:i.id,max_results:i.max_results,paging:i.paging,first_load:!1}),!1}),r(),e(window).resize(r),e.isFunction(i.complete)&&i.complete.apply(t)})})}}(jQuery);
